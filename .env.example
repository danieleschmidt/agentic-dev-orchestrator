# =============================================================================
# Agentic Development Orchestrator (ADO) Environment Configuration
# =============================================================================
# Copy this file to .env and configure with your actual values
# DO NOT commit the .env file - it contains sensitive credentials

# =============================================================================
# GITHUB INTEGRATION
# =============================================================================
# Personal Access Token for GitHub API access
# Required permissions: repo, workflow, read:user
# Generate at: https://github.com/settings/tokens
GITHUB_TOKEN=ghp_your_github_personal_access_token_here

# GitHub repository in format owner/repo
# Example: terragon-labs/agentic-dev-orchestrator
GITHUB_REPO=your-username/your-repo

# Default branch for pull requests (usually 'main' or 'master')
GITHUB_DEFAULT_BRANCH=main

# GitHub API base URL (for GitHub Enterprise Server)
# Leave empty for GitHub.com
GITHUB_API_URL=

# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================
# OpenAI API Configuration
OPENAI_API_KEY=sk-your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.1

# Anthropic Claude API Configuration
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Azure OpenAI Configuration (if using Azure)
AZURE_OPENAI_API_KEY=your_azure_openai_key_here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_VERSION=2023-05-15
AZURE_OPENAI_DEPLOYMENT_NAME=your-deployment-name

# Default LLM provider: openai, anthropic, azure
LLM_PROVIDER=openai

# =============================================================================
# ADO CORE CONFIGURATION
# =============================================================================
# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
ADO_LOG_LEVEL=INFO

# Path to ADO configuration directory
ADO_CONFIG_PATH=.ado

# Workspace root path (usually current directory)
ADO_WORKSPACE_PATH=.

# Maximum number of backlog items to process in one run
ADO_MAX_ITEMS_PER_RUN=5

# Enable/disable autonomous mode
ADO_AUTONOMOUS_MODE=true

# =============================================================================
# AGENT CONFIGURATION
# =============================================================================
# Agent execution timeout in seconds
AGENT_TIMEOUT=300

# Maximum retry attempts for failed agent operations
AGENT_MAX_RETRIES=3

# Number of concurrent agents (be mindful of API rate limits)
AGENT_CONCURRENCY=1

# Agent pipeline configuration
AGENT_PIPELINE=planner,coder,reviewer,merger

# Custom agent configurations (JSON format)
AGENT_CONFIG_PLANNER={"max_tokens": 2000, "temperature": 0.2}
AGENT_CONFIG_CODER={"max_tokens": 4000, "temperature": 0.1}
AGENT_CONFIG_REVIEWER={"max_tokens": 3000, "temperature": 0.0}

# =============================================================================
# SAFETY AND SECURITY CONFIGURATION
# =============================================================================
# Timeout for human escalation responses (seconds)
ESCALATION_TIMEOUT=3600

# Require human review for all changes
HUMAN_REVIEW_REQUIRED=false

# Require security scanning before merging
SECURITY_SCAN_REQUIRED=true

# Maximum lines of code changes without escalation
MAX_LOC_CHANGE_THRESHOLD=100

# Minimum test coverage threshold (0.0 to 1.0)
MIN_TEST_COVERAGE=0.8

# Code complexity threshold for escalation
MAX_COMPLEXITY_THRESHOLD=10

# =============================================================================
# DEVELOPMENT AND TESTING
# =============================================================================
# Environment: development, staging, production
PYTHON_ENV=development

# Enable debug mode
DEBUG=false

# Enable testing mode (uses mock services)
TESTING=false

# Skip certain operations in development
DEV_SKIP_GITHUB_OPERATIONS=false
DEV_SKIP_LLM_CALLS=false

# Mock data directory for testing
TEST_DATA_DIR=tests/fixtures

# =============================================================================
# INTEGRATIONS AND NOTIFICATIONS
# =============================================================================
# Slack webhook for notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Slack channel for escalations
SLACK_ESCALATION_CHANNEL=#dev-escalations

# Email SMTP configuration
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USER=your-email@example.com
EMAIL_SMTP_PASSWORD=your-email-password
EMAIL_FROM_ADDRESS=ado@yourcompany.com

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================
# Datadog API key for metrics
DATADOG_API_KEY=your_datadog_api_key_here

# Sentry DSN for error tracking
SENTRY_DSN=https://your_sentry_dsn_here@sentry.io/project_id

# Application insights connection string
APPINSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key-here

# Prometheus metrics endpoint
PROMETHEUS_METRICS_PORT=9090

# Health check endpoint port
HEALTH_CHECK_PORT=8080

# =============================================================================
# WSJF AND PRIORITIZATION
# =============================================================================
# Enable aging factor for backlog items
WSJF_ENABLE_AGING=true

# Aging multiplier per day (compounds daily)
WSJF_AGING_MULTIPLIER=1.05

# Maximum aging multiplier cap
WSJF_MAX_AGING_MULTIPLIER=2.0

# Default WSJF values for new items
WSJF_DEFAULT_USER_VALUE=5
WSJF_DEFAULT_TIME_CRITICALITY=5
WSJF_DEFAULT_RISK_REDUCTION=3
WSJF_DEFAULT_JOB_SIZE=5

# =============================================================================
# RATE LIMITING AND PERFORMANCE
# =============================================================================
# API rate limiting (requests per minute)
API_RATE_LIMIT_RPM=60

# LLM API rate limiting
LLM_RATE_LIMIT_RPM=30

# GitHub API rate limiting
GITHUB_RATE_LIMIT_RPM=5000

# Cache TTL in seconds
CACHE_TTL=3600

# Maximum file size for processing (bytes)
MAX_FILE_SIZE=1048576

# =============================================================================
# BACKUP AND PERSISTENCE
# =============================================================================
# Backup directory for data
BACKUP_DIR=.ado/backups

# Enable automatic backups
AUTO_BACKUP_ENABLED=true

# Backup retention days
BACKUP_RETENTION_DAYS=30

# Export format for backups: json, yaml
BACKUP_FORMAT=json

# =============================================================================
# CUSTOM EXTENSIONS
# =============================================================================
# Custom agent modules directory
CUSTOM_AGENTS_DIR=custom_agents

# Custom policy modules directory  
CUSTOM_POLICIES_DIR=custom_policies

# Plugin directory
PLUGINS_DIR=plugins

# Enable/disable specific plugins
PLUGIN_SLACK_ENABLED=true
PLUGIN_JIRA_ENABLED=false
PLUGIN_TEAMS_ENABLED=false

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================
# Git configuration
GIT_USER_NAME=ADO Bot
GIT_USER_EMAIL=ado-bot@yourcompany.com

# Branch naming convention
BRANCH_PREFIX=ado/
BRANCH_NAMING_PATTERN={item_type}/{item_id}-{title_slug}

# Commit message template
COMMIT_MESSAGE_TEMPLATE={type}: {title}\n\n{description}\n\nResolves: #{item_id}

# Pull request template
PR_TITLE_TEMPLATE=[{item_type}] {title}
PR_BODY_TEMPLATE=## Summary\n{description}\n\n## Changes\n{changes}\n\nAuto-generated by ADO

# =============================================================================
# SECURITY POLICY OVERRIDES
# =============================================================================
# File patterns to exclude from processing
EXCLUDE_PATTERNS=*.env,*.key,*.pem,secrets/*

# Directories to skip during code analysis
SKIP_DIRECTORIES=node_modules,venv,.git,.ado,__pycache__

# Maximum execution time for any single operation (seconds)
MAX_EXECUTION_TIME=1800

# Enable/disable specific security checks
SECURITY_CHECK_SECRETS=true
SECURITY_CHECK_DEPENDENCIES=true
SECURITY_CHECK_CODE_QUALITY=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable experimental features
FEATURE_FLAG_ADVANCED_PLANNING=false
FEATURE_FLAG_ML_PRIORITIZATION=false
FEATURE_FLAG_AUTONOMOUS_REFACTORING=false
FEATURE_FLAG_CROSS_REPO_DEPENDENCIES=false

# =============================================================================
# NOTES
# =============================================================================
# 1. All environment variables are optional with sensible defaults
# 2. Boolean values should be: true/false (lowercase)
# 3. Numeric values should be plain numbers without quotes
# 4. Paths should be relative to the workspace root
# 5. JSON values should be properly escaped
# 6. Restart ADO after changing configuration